<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Mizuhiro Suzuki" />

<meta name="date" content="2020-10-21" />

<title>Numerical exercises of risk-sharing with limited commitment, mainly based on Ligon, Thomas, and Worrall (2002)</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Risk Sharing</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="RiskSharingLit.html">Literature</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Limited Commitment
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Laczo2015_code.html">Computation (Laczó (2015))</a>
    </li>
    <li>
      <a href="LTW_code.html">Ligon et al. (2002)</a>
    </li>
    <li>
      <a href="CR93_code.html">Coate and Ravallion (1993)</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Numerical exercises of risk-sharing with limited commitment, mainly based on Ligon, Thomas, and Worrall (2002)</h1>
<h4 class="author">Mizuhiro Suzuki</h4>
<h4 class="date">10/21/2020</h4>

</div>

<div id="TOC">
<ul>
<li><a href="#risk-sharing-under-dynamic-limited-commitment"><span class="toc-section-number">1</span> Risk sharing under dynamic limited commitment</a><ul>
<li><a href="#case-1-autarky-region"><span class="toc-section-number">1.1</span> Case 1: Autarky region</a></li>
<li><a href="#case-2-non-overlapping-region"><span class="toc-section-number">1.2</span> Case 2: Non-overlapping region</a></li>
<li><a href="#case-3-overlapping-region"><span class="toc-section-number">1.3</span> Case 3: Overlapping region</a></li>
<li><a href="#case-4-first-best-region"><span class="toc-section-number">1.4</span> Case 4: First-best region</a></li>
</ul></li>
<li><a href="#comparison-with-static-limited-commitment-model-coate-ravallion-1993"><span class="toc-section-number">2</span> Comparison with static limited commitment model (Coate &amp; Ravallion (1993))</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>

<p>In this document, my goal is to explain how risk sharing occurs with limited commitment. For this, I mainly use the numerical exercise in <span class="citation">Ligon, Thomas, and Worrall (2002)</span> and how consumptino fluctuates in response to income shocks. <a href="Laczo2015_code.html">Here</a> I show how to compute the intervals of the relative Pareto weights, which fully characterize the evolution of consumption.</p>
<div id="risk-sharing-under-dynamic-limited-commitment" class="section level1">
<h1><span class="header-section-number">1</span> Risk sharing under dynamic limited commitment</h1>
<p>Here I will discuss how risk sharing works under dynamic limited commitment as in <span class="citation">Ligon, Thomas, and Worrall (2002)</span>. As <span class="citation">Ligon, Thomas, and Worrall (2002)</span>, there are two households with log utility functions, and the income process, which is independent across households and time, is specified as follows:</p>
<p><span class="math display">\[
  y_1 = [2/3, 4/3],\ y_2 = [2/3, 4/3], \\
  \pi_1 = [0.1, 0.9],\ \pi_2 = [0.1, 0.9].
\]</span></p>
<p>As a result, we can replicate the Figure 1 of <span class="citation">Ligon, Thomas, and Worrall (2002)</span> (for detailed procedure, see the codes <a href="Laczo2015_code.html">here</a>.)</p>
<pre class="r"><code># Global settings ====================
sigma1 &lt;- 1.0 # coefficient of relative risk aversion of HH1
sigma2 &lt;- 1.0 # coefficient of relative risk aversion of HH2
pcphi &lt;- 0.0 # punishment under autarky

# Define utility function
util &lt;- function(c, sigma) {
  if (sigma != 1) {
    output = (c ^ (1 - sigma) - 1) / (1 - sigma)
  } else if (sigma == 1) {
    output = log(c)
  }
  return(output)
}
util_prime &lt;- function(c, sigma) c ^ (- sigma)
  
# income shocks and their transition probabilities of the household
inc1 &lt;- c(2/3, 4/3)
P1 &lt;- matrix(rep(c(0.1, 0.9), 2), nrow = 2, byrow = TRUE)

# income shocks and their transition probabilities of the village
inc2 &lt;- c(2/3, 4/3)
P2 &lt;- matrix(rep(c(0.1, 0.9), 2), nrow = 2, byrow = TRUE)

# transition super-matrix of income shocks
R &lt;- kronecker(P2, P1)

# number of states
# (number of income states for a household times
# number of income states for the village)
S &lt;- length(inc1) * length(inc2)

# Income matrix
# (col 1: HH income, col 2: village income)
inc_mat &lt;- as.matrix(expand.grid(inc1, inc2))

# Aggregate income in each state
inc_ag &lt;- rowSums(inc_mat)

# Grid of time discount factors
delta_seq &lt;- seq(0.8, 0.999, by = 0.002)</code></pre>
<pre class="r"><code>output &lt;- readRDS(&quot;RDSfiles/laczo2015_dynamic_lc_output.rds&quot;)</code></pre>
<pre class="r"><code># Plot figure =========================
x_int_array = array(NA, dim = c(S, 2, length(delta_seq)))
for (i in seq_along(delta_seq)) {
  x_int_array[,,i] &lt;- output[[i]][[5]]
}

dynamic_lc_plot &lt;- ggplot() +
  geom_line(aes(delta_seq, log(x_int_array[1,1,]), color = &quot;a&quot;)) + 
  geom_line(aes(delta_seq, log(x_int_array[1,2,]), color = &quot;b&quot;)) + 
  geom_line(aes(delta_seq, log(x_int_array[2,1,]), color = &quot;c&quot;)) + 
  geom_line(aes(delta_seq, log(x_int_array[2,2,]), color = &quot;d&quot;)) +
  geom_line(aes(delta_seq, log(x_int_array[3,1,]), color = &quot;e&quot;)) +
  geom_line(aes(delta_seq, log(x_int_array[3,2,]), color = &quot;f&quot;)) +
  geom_line(aes(delta_seq, log(x_int_array[4,1,]), color = &quot;g&quot;)) +
  geom_line(aes(delta_seq, log(x_int_array[4,2,]), color = &quot;h&quot;)) +
  coord_cartesian(xlim = c(0.8, 1.0), ylim = c(log(inc1[1] / inc1[2]), log(inc1[2] / inc1[1]))) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(x_int_array[1,1,]),
                  ymax = log(x_int_array[1,2,])),
                  fill = &quot;blue&quot;, alpha = 0.2) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(x_int_array[2,1,]),
                  ymax = log(x_int_array[2,2,])),
                  fill = &quot;red&quot;, alpha = 0.2) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(x_int_array[3,1,]),
                  ymax = log(x_int_array[3,2,])),
                  fill = &quot;green&quot;, alpha = 0.2) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(x_int_array[4,1,]),
                  ymax = log(x_int_array[4,2,])),
                  fill = &quot;yellow&quot;, alpha = 0.2) +
  scale_color_manual(
    name = &quot;End-points&quot;, 
    values = c(
      &quot;blue&quot;,
      &quot;purple&quot;,
      &quot;brown&quot;,
      &quot;red&quot;,
      &quot;yellow&quot;,
      &quot;green&quot;,
      &quot;orange&quot;,
      &quot;gray&quot;
      ), 
    labels = unname(TeX(c(
      &quot;$\\underline{x}_{ll}$&quot;,
      &quot;$\\bar{x}_{ll}$&quot;,
      &quot;$\\underline{x}_{hl}$&quot;,
      &quot;$\\bar{x}_{hl}$&quot;,
      &quot;$\\underline{x}_{lh}$&quot;,
      &quot;$\\bar{x}_{lh}$&quot;,
      &quot;$\\underline{x}_{hh}$&quot;,
      &quot;$\\bar{x}_{hh}$&quot;
      )))
    ) +
  xlab(&quot;Discount factor (delta)&quot;) +
  ylab(&quot;log of the relative Pareto weights (x)&quot;)

dynamic_lc_plot</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Here I generate random income shocks, based on the income process specified above. I consider 10-period data.</p>
<pre class="r"><code>n &lt;- 10

set.seed(35)

# Sequence of income shocks
income_realization &lt;- c(1, 2, 3, 4)
income_realization_label &lt;- c(&quot;Low, Low&quot;, &quot;High, Low&quot;, &quot;Low, High&quot;, &quot;High, High&quot;)
income_seq &lt;- sample(income_realization, 
                     size = n,
                     replace = TRUE,
                     prob = R[1,])

inc1_realization &lt;- inc_mat[income_seq, 1]
inc2_realization &lt;- inc_mat[income_seq, 2]
(income_realization_vec &lt;- income_realization_label[income_seq])</code></pre>
<pre><code>##  [1] &quot;Low, High&quot;  &quot;High, High&quot; &quot;High, High&quot; &quot;High, Low&quot;  &quot;High, High&quot; &quot;High, High&quot; &quot;High, High&quot; &quot;High, High&quot; &quot;Low, Low&quot;  
## [10] &quot;High, Low&quot;</code></pre>
<p>This is the function to create summary tables and figures later:</p>
<pre class="r"><code># Function to create output and figure ================
create_plot_table &lt;- function(delta_ind, lc_plot, x_int_array, dynamic = TRUE) {
  
  delta &lt;- delta_seq[delta_ind]
  
  # Vector of relative Pareto weights
  x_vec &lt;- rep(NA, n + 1)
  x_vec[1] &lt;- 1
  x_int_array_aut &lt;- x_int_array[,,delta_ind]
  
  # Relative Pareto weights on the history of income realizations
  if (dynamic == TRUE) {
    for (t in seq(n)) {
      x_int_temp &lt;- x_int_array_aut[income_seq[t],] 
      if (x_vec[t] &lt; x_int_temp[1]) {
        x_vec[t + 1] &lt;- x_int_temp[1]
      } else if (x_vec[t] &gt; x_int_temp[2]) {
        x_vec[t + 1] &lt;- x_int_temp[2]
      } else {
        x_vec[t + 1] &lt;- x_vec[t]
      }
    }
  } else {
    for (t in seq(n)) {
      x_int_temp &lt;- x_int_array_aut[income_seq[t],] 
      if (x_vec[1] &lt; x_int_temp[1]) {
        x_vec[t + 1] &lt;- x_int_temp[1]
      } else if (x_vec[1] &gt; x_int_temp[2]) {
        x_vec[t + 1] &lt;- x_int_temp[2]
      } else {
        x_vec[t + 1] &lt;- x_vec[1]
      }
    }
  }
  
  # Consumption and transfers, calculated based on x_vec
  cons1_vec &lt;- rep(NA, n + 1)
  cons2_vec &lt;- rep(NA, n + 1)
  transfer_1_to_2 &lt;- rep(NA, n + 1)
  for (t in seq(2, n + 1)) {
    f &lt;- function(w) util_prime(inc_ag[income_seq[t - 1]] - w, sigma2) / util_prime(w, sigma1) - x_vec[t]
    cons1_vec[t] &lt;- uniroot(f, c(1e-6, (inc_ag[income_seq[t - 1]] - 1e-6)), tol = 1e-10, maxiter = 300)$root
    cons2_vec[t] &lt;- inc_ag[income_seq[t - 1]] - cons1_vec[t]
    transfer_1_to_2[t] &lt;- inc_mat[income_seq[t - 1], 1] - cons1_vec[t]
  }
  
  # Output table
  table_output &lt;- tibble(
    `Period` = seq(0, n),
    `ln(x)` = log(x_vec),
    `Income shocks` = c(NA, income_realization_vec),
    `Net transfer (1 -&gt; 2)` = transfer_1_to_2,
    `Consumption (1)` = cons1_vec,
    `Consumption (2)` = cons2_vec,
    `Income (1)` = c(NA, inc1_realization),
    `Income (2)` = c(NA, inc2_realization)
  )
  
  # Output figure
  plot_output &lt;- lc_plot + 
    geom_vline(xintercept = delta) +
    geom_point(aes(rep(delta, n + 1), log(x_vec))) +
    geom_label_repel(
      aes(rep(delta, n + 1), log(x_vec)), label = seq(0, n),
      box.padding = 0.35, point.padding = 0.5
    )
  
  # Table of mean and SD of consumption and income
  sum_table_output &lt;- table_output %&gt;% 
    select(
      c(
        &quot;Consumption (1)&quot;,
        &quot;Consumption (2)&quot;,
        &quot;Income (1)&quot;,
        &quot;Income (2)&quot;
      )
    ) %&gt;%
    summarise_all(
      list(
        mean = function(x) mean(x, na.rm = TRUE),
        sd = function(x) sd(x, na.rm = TRUE)
        )
      ) %&gt;%
    pivot_longer(everything(), names_to = &quot;variable&quot;, values_to = &quot;value&quot;) %&gt;%
    extract(variable, c(&quot;variable&quot;, &quot;stat&quot;),
            regex = &quot;(.*)(_mean|_sd)&quot;) %&gt;%
    pivot_wider(names_from = &quot;stat&quot;, values_from = &quot;value&quot;)
  colnames(sum_table_output) &lt;- c(&quot;&quot;, &quot;Mean&quot;, &quot;SD&quot;)
  
  return(list(table_output, plot_output, sum_table_output)) 
}</code></pre>
<p>Below I consider risk-sharing in 4 different regions in turn by discount factor <span class="math inline">\(\delta\)</span>: autarky region, non-overlapping region, overlapping region, and first-best region.</p>
<div id="case-1-autarky-region" class="section level2">
<h2><span class="header-section-number">1.1</span> Case 1: Autarky region</h2>
<p>Here I consider the autarky region, where no risk-sharing occurs.</p>
<pre class="r"><code>delta_ind &lt;- 15
(delta_aut &lt;- delta_seq[delta_ind])</code></pre>
<pre><code>## [1] 0.828</code></pre>
<pre class="r"><code>output_aut &lt;- create_plot_table(delta_ind, dynamic_lc_plot, x_int_array)</code></pre>
<pre class="r"><code>table_aut &lt;- output_aut[[1]]
kable(table_aut, digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="13%" />
<col width="21%" />
<col width="15%" />
<col width="15%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Period</th>
<th align="right">ln(x)</th>
<th align="left">Income shocks</th>
<th align="right">Net transfer (1 -&gt; 2)</th>
<th align="right">Consumption (1)</th>
<th align="right">Consumption (2)</th>
<th align="right">Income (1)</th>
<th align="right">Income (2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.000</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">-0.693</td>
<td align="left">Low, High</td>
<td align="right">0</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">0.693</td>
<td align="left">High, Low</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">0.000</td>
<td align="left">Low, Low</td>
<td align="right">0</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">0.693</td>
<td align="left">High, Low</td>
<td align="right">0</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
</tbody>
</table>
<pre class="r"><code>output_aut[[2]]</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>kable(output_aut[[3]], digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Consumption (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Consumption (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
<tr class="odd">
<td align="left">Income (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Income (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
</tbody>
</table>
<p>As you can see from the table and figure, there is no transfer between households (ie. consumption and income perfectly covary) and the ratio of marginal utilities fluctuates a lot in response to income shocks.</p>
</div>
<div id="case-2-non-overlapping-region" class="section level2">
<h2><span class="header-section-number">1.2</span> Case 2: Non-overlapping region</h2>
<p>Now, I try and see the transition in the ratio of marginal utilities and consumptions in the non-overlapping region.</p>
<pre class="r"><code>delta_ind &lt;- 50
(delta_non_ol &lt;- delta_seq[delta_ind])</code></pre>
<pre><code>## [1] 0.898</code></pre>
<pre class="r"><code>output_non_ol &lt;- create_plot_table(delta_ind, dynamic_lc_plot, x_int_array)</code></pre>
<pre class="r"><code>table_non_ol &lt;- output_non_ol[[1]]
kable(table_non_ol, digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="13%" />
<col width="21%" />
<col width="15%" />
<col width="15%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Period</th>
<th align="right">ln(x)</th>
<th align="left">Income shocks</th>
<th align="right">Net transfer (1 -&gt; 2)</th>
<th align="right">Consumption (1)</th>
<th align="right">Consumption (2)</th>
<th align="right">Income (1)</th>
<th align="right">Income (2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.000</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">-0.414</td>
<td align="left">Low, High</td>
<td align="right">-0.129</td>
<td align="right">0.796</td>
<td align="right">1.204</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">-0.031</td>
<td align="left">High, High</td>
<td align="right">0.021</td>
<td align="right">1.313</td>
<td align="right">1.354</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">-0.031</td>
<td align="left">High, High</td>
<td align="right">0.021</td>
<td align="right">1.313</td>
<td align="right">1.354</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">0.414</td>
<td align="left">High, Low</td>
<td align="right">0.129</td>
<td align="right">1.204</td>
<td align="right">0.796</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">0.032</td>
<td align="left">High, High</td>
<td align="right">-0.021</td>
<td align="right">1.355</td>
<td align="right">1.312</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">0.032</td>
<td align="left">High, High</td>
<td align="right">-0.021</td>
<td align="right">1.355</td>
<td align="right">1.312</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">0.032</td>
<td align="left">High, High</td>
<td align="right">-0.021</td>
<td align="right">1.355</td>
<td align="right">1.312</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">0.032</td>
<td align="left">High, High</td>
<td align="right">-0.021</td>
<td align="right">1.355</td>
<td align="right">1.312</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">0.032</td>
<td align="left">Low, Low</td>
<td align="right">-0.011</td>
<td align="right">0.677</td>
<td align="right">0.656</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">0.414</td>
<td align="left">High, Low</td>
<td align="right">0.129</td>
<td align="right">1.204</td>
<td align="right">0.796</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
</tbody>
</table>
<pre class="r"><code>output_non_ol[[2]]</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>It is interesting to see the path dependence of transfers: after HH 1 receives a bad shock in period 1, a household keeps to “repay the loan” by transferring to HH 2 even when the realized incomes are the same (periods 2 and 3), until the other household receives a bad shock and she herself receives a good shock (period 4).</p>
<p>Also, the table below shows that, while mean consumptions are similar to mean incomes, the fluctuation in consumptions are smaller than that of incomes. This is the benefit of risk sharing, although full insurance is not achieved since the relative Pareto weights fluctuates over time.</p>
<pre class="r"><code>kable(output_non_ol[[3]], digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Consumption (1)</td>
<td align="right">1.193</td>
<td align="right">0.249</td>
</tr>
<tr class="even">
<td align="left">Consumption (2)</td>
<td align="right">1.141</td>
<td align="right">0.276</td>
</tr>
<tr class="odd">
<td align="left">Income (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Income (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
</tbody>
</table>
</div>
<div id="case-3-overlapping-region" class="section level2">
<h2><span class="header-section-number">1.3</span> Case 3: Overlapping region</h2>
<p>Next, I look at how the relative Pareto weights change over time in the overlapping region:</p>
<pre class="r"><code>delta_ind &lt;- 73
(delta_ol &lt;- delta_seq[delta_ind])</code></pre>
<pre><code>## [1] 0.944</code></pre>
<pre class="r"><code>output_ol &lt;- create_plot_table(delta_ind, dynamic_lc_plot, x_int_array)</code></pre>
<pre class="r"><code>table_ol &lt;- output_ol[[1]]
kable(table_ol, digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="13%" />
<col width="21%" />
<col width="15%" />
<col width="15%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Period</th>
<th align="right">ln(x)</th>
<th align="left">Income shocks</th>
<th align="right">Net transfer (1 -&gt; 2)</th>
<th align="right">Consumption (1)</th>
<th align="right">Consumption (2)</th>
<th align="right">Income (1)</th>
<th align="right">Income (2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.000</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">-0.052</td>
<td align="left">Low, High</td>
<td align="right">-0.308</td>
<td align="right">0.974</td>
<td align="right">1.026</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">-0.052</td>
<td align="left">High, High</td>
<td align="right">0.034</td>
<td align="right">1.299</td>
<td align="right">1.368</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">-0.052</td>
<td align="left">High, High</td>
<td align="right">0.034</td>
<td align="right">1.299</td>
<td align="right">1.368</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">0.052</td>
<td align="left">High, Low</td>
<td align="right">0.307</td>
<td align="right">1.026</td>
<td align="right">0.974</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">0.052</td>
<td align="left">High, High</td>
<td align="right">-0.035</td>
<td align="right">1.368</td>
<td align="right">1.299</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">0.052</td>
<td align="left">High, High</td>
<td align="right">-0.035</td>
<td align="right">1.368</td>
<td align="right">1.299</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">0.052</td>
<td align="left">High, High</td>
<td align="right">-0.035</td>
<td align="right">1.368</td>
<td align="right">1.299</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">0.052</td>
<td align="left">High, High</td>
<td align="right">-0.035</td>
<td align="right">1.368</td>
<td align="right">1.299</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">0.052</td>
<td align="left">Low, Low</td>
<td align="right">-0.017</td>
<td align="right">0.684</td>
<td align="right">0.649</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">0.052</td>
<td align="left">High, Low</td>
<td align="right">0.307</td>
<td align="right">1.026</td>
<td align="right">0.974</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
</tbody>
</table>
<pre class="r"><code>output_ol[[2]]</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Compared to the previous case, the fluctuation in the ratio of marginal utilities is smaller. This results in less fluctuating consumption as the table below shows:</p>
<pre class="r"><code>kable(output_ol[[3]], digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Consumption (1)</td>
<td align="right">1.178</td>
<td align="right">0.237</td>
</tr>
<tr class="even">
<td align="left">Consumption (2)</td>
<td align="right">1.155</td>
<td align="right">0.238</td>
</tr>
<tr class="odd">
<td align="left">Income (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Income (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
</tbody>
</table>
</div>
<div id="case-4-first-best-region" class="section level2">
<h2><span class="header-section-number">1.4</span> Case 4: First-best region</h2>
<p>Finally, I try to see the transitions in the first-best region.</p>
<pre class="r"><code>delta_ind &lt;- 99
(delta_fb &lt;- delta_seq[delta_ind])</code></pre>
<pre><code>## [1] 0.996</code></pre>
<pre class="r"><code>output_fb &lt;- create_plot_table(delta_ind, dynamic_lc_plot, x_int_array)</code></pre>
<pre class="r"><code>table_fb &lt;- output_fb[[1]]
kable(table_fb, digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="6%" />
<col width="5%" />
<col width="13%" />
<col width="21%" />
<col width="15%" />
<col width="15%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Period</th>
<th align="right">ln(x)</th>
<th align="left">Income shocks</th>
<th align="right">Net transfer (1 -&gt; 2)</th>
<th align="right">Consumption (1)</th>
<th align="right">Consumption (2)</th>
<th align="right">Income (1)</th>
<th align="right">Income (2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">0</td>
<td align="left">Low, High</td>
<td align="right">-0.333</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">0</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">0</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">0</td>
<td align="left">High, Low</td>
<td align="right">0.333</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">0</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">0</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">0</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">0</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">0</td>
<td align="left">Low, Low</td>
<td align="right">0.000</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">0</td>
<td align="left">High, Low</td>
<td align="right">0.333</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
</tbody>
</table>
<pre class="r"><code>output_fb[[2]]</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>As the name of the region suggests, the ratio of marginal utilities stays at the initial position and never changes. This means that full insurance is achieved, although due to the aggregate shocks consumptions fluctuate as the table shows:</p>
<pre class="r"><code>kable(output_fb[[3]], digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Consumption (1)</td>
<td align="right">1.167</td>
<td align="right">0.236</td>
</tr>
<tr class="even">
<td align="left">Consumption (2)</td>
<td align="right">1.167</td>
<td align="right">0.236</td>
</tr>
<tr class="odd">
<td align="left">Income (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Income (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="comparison-with-static-limited-commitment-model-coate-ravallion-1993" class="section level1">
<h1><span class="header-section-number">2</span> Comparison with static limited commitment model (Coate &amp; Ravallion (1993))</h1>
<p>Here I compare how different risk-sharing schemes under dynamic limited commitment (<span class="citation">Ligon, Thomas, and Worrall (2002)</span>) and static limited commitment (<span class="citation">Coate and Ravallion (1993)</span>). I show the similar figure to the one in <span class="citation">Ligon, Thomas, and Worrall (2002)</span>, but under static limited commitment. See <a href="Laczo2015_code.html">here</a> for the code to generate this figure.</p>
<p>In static limited commitment model, transfers do not depend on the history of states but only on the current state. Presumably this restricts the range of transfer contracts and thus weakens the performance of risk sharing. I try to see this numerically.</p>
<pre class="r"><code>static_output &lt;- readRDS(&quot;RDSfiles/laczo2015_static_lc_output.rds&quot;)</code></pre>
<pre class="r"><code>static_x_int_array = array(NA, dim = c(S, 2, length(delta_seq)))
for (i in seq_along(delta_seq)) {
  static_x_int_array[,,i] &lt;- static_output[[i]][[5]]
}

static_lc_plot &lt;- ggplot() +
  geom_line(aes(delta_seq, log(static_x_int_array[1,1,]), color = &quot;a&quot;)) + 
  geom_line(aes(delta_seq, log(static_x_int_array[1,2,]), color = &quot;b&quot;)) + 
  geom_line(aes(delta_seq, log(static_x_int_array[2,1,]), color = &quot;c&quot;)) + 
  geom_line(aes(delta_seq, log(static_x_int_array[2,2,]), color = &quot;d&quot;)) +
  geom_line(aes(delta_seq, log(static_x_int_array[3,1,]), color = &quot;e&quot;)) +
  geom_line(aes(delta_seq, log(static_x_int_array[3,2,]), color = &quot;f&quot;)) +
  geom_line(aes(delta_seq, log(static_x_int_array[4,1,]), color = &quot;g&quot;)) +
  geom_line(aes(delta_seq, log(static_x_int_array[4,2,]), color = &quot;h&quot;)) +
  coord_cartesian(xlim = c(0.8, 1.0), ylim = c(log(inc1[1] / inc1[2]), log(inc1[2] / inc1[1]))) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(static_x_int_array[1,1,]),
                  ymax = log(static_x_int_array[1,2,])),
                  fill = &quot;blue&quot;, alpha = 0.2) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(static_x_int_array[2,1,]),
                  ymax = log(static_x_int_array[2,2,])),
                  fill = &quot;red&quot;, alpha = 0.2) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(static_x_int_array[3,1,]),
                  ymax = log(static_x_int_array[3,2,])),
                  fill = &quot;green&quot;, alpha = 0.2) +
  geom_ribbon(aes(x = delta_seq,
                  ymin = log(static_x_int_array[4,1,]),
                  ymax = log(static_x_int_array[4,2,])),
                  fill = &quot;orange&quot;, alpha = 0.2) +
  scale_color_manual(
    name = &quot;End-points&quot;, 
    values = c(
      &quot;blue&quot;,
      &quot;purple&quot;,
      &quot;brown&quot;,
      &quot;red&quot;,
      &quot;yellow&quot;,
      &quot;green&quot;,
      &quot;orange&quot;,
      &quot;gray&quot;
      ), 
    labels = unname(TeX(c(
      &quot;$\\underline{x}_{ll}$&quot;,
      &quot;$\\bar{x}_{ll}$&quot;,
      &quot;$\\underline{x}_{hl}$&quot;,
      &quot;$\\bar{x}_{hl}$&quot;,
      &quot;$\\underline{x}_{lh}$&quot;,
      &quot;$\\bar{x}_{lh}$&quot;,
      &quot;$\\underline{x}_{hh}$&quot;,
      &quot;$\\bar{x}_{hh}$&quot;
      )))
    ) +
  xlab(&quot;Discount factor (delta)&quot;) +
  ylab(&quot;log of the relative Pareto weights (x)&quot;)

static_lc_plot</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Given this figure, I compare how transition of the relative Pareto weights differ between two models. As the value of <span class="math inline">\(\delta\)</span>, I use the same value as the one used for the overlapping case above.</p>
<pre class="r"><code>delta_ind &lt;- 73
(delta_static &lt;- delta_seq[delta_ind])</code></pre>
<pre><code>## [1] 0.944</code></pre>
<pre class="r"><code>output_static &lt;- create_plot_table(
  delta_ind, static_lc_plot, 
  static_x_int_array, dynamic = FALSE
  )</code></pre>
<pre class="r"><code>table_static &lt;- output_static[[1]]
kable(table_static, digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="13%" />
<col width="21%" />
<col width="15%" />
<col width="15%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Period</th>
<th align="right">ln(x)</th>
<th align="left">Income shocks</th>
<th align="right">Net transfer (1 -&gt; 2)</th>
<th align="right">Consumption (1)</th>
<th align="right">Consumption (2)</th>
<th align="right">Income (1)</th>
<th align="right">Income (2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.000</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">-0.322</td>
<td align="left">Low, High</td>
<td align="right">-0.174</td>
<td align="right">0.840</td>
<td align="right">1.160</td>
<td align="right">0.667</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">0.322</td>
<td align="left">High, Low</td>
<td align="right">0.174</td>
<td align="right">1.160</td>
<td align="right">0.840</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">0.000</td>
<td align="left">High, High</td>
<td align="right">0.000</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
<td align="right">1.333</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">0.000</td>
<td align="left">Low, Low</td>
<td align="right">0.000</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
<td align="right">0.667</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">0.322</td>
<td align="left">High, Low</td>
<td align="right">0.174</td>
<td align="right">1.160</td>
<td align="right">0.840</td>
<td align="right">1.333</td>
<td align="right">0.667</td>
</tr>
</tbody>
</table>
<pre class="r"><code>output_static[[2]]</code></pre>
<p><img src="LTW_code_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<pre class="r"><code>kable(output_static[[3]], digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Consumption (1)</td>
<td align="right">1.183</td>
<td align="right">0.241</td>
</tr>
<tr class="even">
<td align="left">Consumption (2)</td>
<td align="right">1.151</td>
<td align="right">0.264</td>
</tr>
<tr class="odd">
<td align="left">Income (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Income (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
</tbody>
</table>
<p>There are several things that should be noted. First, in the static limited commitment model, the payment is not path dependence: only current income matters for transfers. Second, in the static model, when possible, the marginal utilities are back to the initial value, <span class="math inline">\(1\)</span> (note that <span class="math inline">\(\log(1) = 0\)</span>). While this appears to be a nice thing, this comes at the cost of larger fluctuation of <span class="math inline">\(x\)</span>. This results in more fluctuating consumptions as shown in the table below.</p>
<pre class="r"><code>compare_table &lt;- left_join(output_ol[[3]], output_static[[3]], by = &quot;&quot;)
colnames(compare_table) &lt;- c(&quot;&quot;, &quot;Mean (DLC)&quot;, &quot;SD (DLC)&quot;, &quot;Mean (SLC)&quot;, &quot;SD (SLC)&quot;)
kable(
  compare_table, digits = 3, 
  caption = &quot;Comparison between dynamic limited commitment (DLC) model and static limited commitment (SLC) model&quot;
  )</code></pre>
<table>
<caption>Comparison between dynamic limited commitment (DLC) model and static limited commitment (SLC) model</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean (DLC)</th>
<th align="right">SD (DLC)</th>
<th align="right">Mean (SLC)</th>
<th align="right">SD (SLC)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Consumption (1)</td>
<td align="right">1.178</td>
<td align="right">0.237</td>
<td align="right">1.183</td>
<td align="right">0.241</td>
</tr>
<tr class="even">
<td align="left">Consumption (2)</td>
<td align="right">1.155</td>
<td align="right">0.238</td>
<td align="right">1.151</td>
<td align="right">0.264</td>
</tr>
<tr class="odd">
<td align="left">Income (1)</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
<td align="right">1.200</td>
<td align="right">0.281</td>
</tr>
<tr class="even">
<td align="left">Income (2)</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
<td align="right">1.133</td>
<td align="right">0.322</td>
</tr>
</tbody>
</table>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-Coate1993">
<p>Coate, Stephen, and Martin Ravallion. 1993. “Reciprocity without commitment: Characterization and performance of informal insurance arrangements.” <em>Journal of Development Economics</em> 40 (1): 1–24. <a href="https://doi.org/10.1016/0304-3878(93)90102-S">https://doi.org/10.1016/0304-3878(93)90102-S</a>.</p>
</div>
<div id="ref-Ligon2002">
<p>Ligon, Ethan, Jonathan P. Thomas, and Tim Worrall. 2002. “Informal Insurance Arrangements with Limited Commitment: Theory and Evidence from Village Economies.” <em>Review of Economic Studies</em> 69 (1): 209–44. <a href="https://doi.org/10.1111/1467-937X.00204">https://doi.org/10.1111/1467-937X.00204</a>.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
